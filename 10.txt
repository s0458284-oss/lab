<!DOCTYPE html>
<html>
<head>
<title>AJAX Examples</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<style>
body{font-family:Arial;background:#f4f4f9;margin:0}
h1{text-align:center;margin:15px}
#content{
max-width:600px;margin:20px auto;padding:15px;
background:#fff;border:1px solid #ddd;border-radius:6px
}
button{
padding:8px 12px;margin:6px;
border:none;background:#007bff;
color:#fff;border-radius:4px;cursor:pointer
}
#output{display:none;margin-top:10px;padding:8px;white-space:pre-wrap}
.plain{background:#eef;border:1px solid #aac}
.jq{background:#efe;border:1px solid #9c9}
.json{background:#ffd;border:1px solid #cc9}
.parse{background:#fdd;border:1px solid #f99}
</style>
</head>

<body>
<h1>AJAX Examples</h1>
<div id="content">
<button id="p">Plain AJAX</button>
<button id="a">jQuery AJAX</button>
<button id="j">jQuery JSON</button>
<button id="g">Parse JSON</button>
<div id="output"></div>
</div>

<script>
function show(c){$("#output").attr("class",c).show()}

$("#p").click(()=>{
let x=new XMLHttpRequest();
x.open("GET","textfile.txt");
x.onload=()=>{$("#output").text(x.status==200?x.responseText:"Error");show("plain")};
x.send();
});

$("#a").click(()=>$.ajax("textfile.txt")
.done(d=>$("#output").text(d))
.fail(()=>$("#output").text("Error"))
.always(()=>show("jq"))
);

$("#j").click(()=>$.getJSON("data.json")
.done(d=>$("#output").text(JSON.stringify(d,null,2)))
.fail(()=>$("#output").text("Error"))
.always(()=>show("json"))
);

$("#g").click(()=>$.get("data.json")
.done(d=>{
try{$("#output").text(JSON.stringify(
typeof d=="string"?JSON.parse(d):d,null,2))}
catch{$("#output").text("Parse Error")}
})
.fail(()=>$("#output").text("Error"))
.always(()=>show("parse"))
);
</script>
</body>
</html>
